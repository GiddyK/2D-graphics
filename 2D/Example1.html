<!DOCTYPE HTML>
<html>
<head>
<script type="text/javascript">
function drawShape(){
 // get the canvas element using the DOM
 var canvas = document.getElementById('mycanvas');
 // Make sure we don't execute when canvas isn't supported
 if (canvas.getContext){
 var ctx = canvas.getContext('2d');
 ctx.fillStyle = 'red' 
 ctx.fillRect(0,0,300,300); // draw a rectangle with default settings
 ctx.save();// Save the default state
 
 // 1: Make changes
 ctx.fillStyle = 'blue' 
 ctx.save(); // Save the changed state
 // 2: Make another color
 ctx.fillStyle = 'yellow' ;
 ctx.lineWidth='2.0'; 
 
 ctx.save // Save the current state
 // 3: Make the new color
 ctx.fillStyle = 'green' 
 ctx.globalAlpha = 0.9; 
 ctx.save(); // Save the changed state
 // Restore original state
 ctx.restore();
 // Draw the rectangles with restored settings 
 ctx.fillRect(0,0,100,100);
 ctx.restore();
 ctx.fillRect(15,15,100,100);
 ctx.restore();
 ctx.fillRect(30,30,100,100);
 ctx.restore();
 ctx.fillRect(45,45,100,100);
 
 } else {
 alert('You need Safari or Firefox 1.5+ to see this demo.');
 } }
</script>
</head>
<body onload="drawShape();">
 <canvas id="mycanvas" width='400' width='400'></canvas>
</body>
</html>